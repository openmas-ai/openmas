# SimpleMas central orchestration manifest
version: "1.0"

# Define the components to orchestrate
components:
  - name: agent1
    path: ../chess_agent/simplemas.deploy.yaml
    # Override specific metadata values (optional)
    overrides:
      component:
        name: agent1  # Override the component name
      environment:
        - name: SERVICE_URL_AGENT2
          value: http://agent2:8001
        - name: SERVICE_URL_MCP_SERVER
          value: http://mcp-server:8000
      dependencies:
        - name: agent2
          required: true
        - name: mcp-server
          required: true

  - name: agent2
    path: agent2/simplemas.deploy.yaml
    # Override specific metadata values (optional)
    overrides:
      component:
        name: agent2
      environment:
        - name: SERVICE_URL_AGENT1
          value: http://agent1:8000
        - name: SERVICE_URL_MCP_SERVER
          value: http://mcp-server:8000
      dependencies:
        - name: agent1
          required: false
        - name: mcp-server
          required: true

  - name: mcp-server
    path: mcp-server/simplemas.deploy.yaml

# Global configuration (applied to all components)
global:
  # Shared networks
  networks:
    - name: agent-network
      driver: bridge

  # Shared volumes
  volumes:
    - name: shared-data
      path: /app/shared
      driver: local
